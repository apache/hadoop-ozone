<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 3.1.1 (Python 3.8.5 on linux)" generated="20200902 18:18:35.745" rpa="false">
<suite id="s1" name="Objectdelete" source="/home/elek/projects/ozone/hadoop-ozone/dist/src/main/smoketest/s3/objectdelete.robot">
<kw name="Setup s3 tests" library="commonawslib" type="setup">
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Generate random prefix</arg>
</arguments>
<kw name="Generate random prefix" library="commonawslib">
<kw name="Generate Random String" library="String">
<doc>Generates a string with a desired ``length`` from the given ``chars``.</doc>
<arguments>
<arg>5</arg>
<arg>[NUMBERS]</arg>
</arguments>
<assign>
<var>${random}</var>
</assign>
<msg timestamp="20200902 18:18:35.773" level="INFO">${random} = 56377</msg>
<status status="PASS" starttime="20200902 18:18:35.773" endtime="20200902 18:18:35.773"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${PREFIX}</arg>
<arg>${random}</arg>
</arguments>
<msg timestamp="20200902 18:18:35.773" level="INFO">${PREFIX} = 56377</msg>
<status status="PASS" starttime="20200902 18:18:35.773" endtime="20200902 18:18:35.773"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:35.773" endtime="20200902 18:18:35.773"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:35.772" endtime="20200902 18:18:35.773"></status>
</kw>
<kw name="Run Keyword" library="BuiltIn">
<doc>Executes the given keyword with the given arguments.</doc>
<arguments>
<arg>Install aws cli</arg>
</arguments>
<kw name="Install aws cli" library="commonawslib">
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>which apt-get</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:35.779" level="INFO">Running command 'which apt-get 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:35.781" level="INFO">${rc} = 1</msg>
<msg timestamp="20200902 18:18:35.782" level="INFO">${output} = which: no apt-get in (/home/elek/prog/protobuf-2.5.0/src:/home/elek/prog/android-sdk-linux/platform-tools/:/home/elek/bin:/home/elek/dotfiles/zsh/zplug/bin:/home/elek/.zplug/bin:/opt/esp-open-sdk/xten...</msg>
<status status="PASS" starttime="20200902 18:18:35.774" endtime="20200902 18:18:35.782"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 debian</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:35.782" endtime="20200902 18:18:35.782"></status>
</kw>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>yum --help</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:35.783" level="INFO">Running command 'yum --help 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:35.785" level="INFO">${rc} = 127</msg>
<msg timestamp="20200902 18:18:35.785" level="INFO">${output} = /bin/sh: yum: command not found</msg>
<status status="PASS" starttime="20200902 18:18:35.782" endtime="20200902 18:18:35.785"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${rc}' == '0'</arg>
<arg>Install aws cli s3 centos</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:35.786" endtime="20200902 18:18:35.786"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:35.774" endtime="20200902 18:18:35.786"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:35.774" endtime="20200902 18:18:35.786"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${OZONE_S3_SET_CREDENTIALS}' == 'true'</arg>
<arg>Setup v4 headers</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:35.786" endtime="20200902 18:18:35.786"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'generated'</arg>
<arg>Create bucket</arg>
<arg>ELSE</arg>
<arg>Set Variable</arg>
<arg>${BUCKET}</arg>
</arguments>
<assign>
<var>${BUCKET}</var>
</assign>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>${BUCKET}</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:35.787" endtime="20200902 18:18:35.787"></status>
</kw>
<msg timestamp="20200902 18:18:35.787" level="INFO">${BUCKET} = ozonetest</msg>
<status status="PASS" starttime="20200902 18:18:35.786" endtime="20200902 18:18:35.787"></status>
</kw>
<kw name="Set Suite Variable" library="BuiltIn">
<doc>Makes a variable available everywhere within the scope of the current suite.</doc>
<arguments>
<arg>${BUCKET}</arg>
</arguments>
<msg timestamp="20200902 18:18:35.787" level="INFO">${BUCKET} = ozonetest</msg>
<status status="PASS" starttime="20200902 18:18:35.787" endtime="20200902 18:18:35.787"></status>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<arguments>
<arg>'${BUCKET}' == 'link'</arg>
<arg>Setup links for S3 tests</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:35.787" endtime="20200902 18:18:35.787"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:35.772" endtime="20200902 18:18:35.787"></status>
</kw>
<test id="s1-t1" name="Delete file with s3api">
<kw name="Execute" library="os">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:35.789" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20200902 18:18:35.792" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:35.792" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:35.788" endtime="20200902 18:18:35.792"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:35.793" level="INFO"></msg>
<status status="PASS" starttime="20200902 18:18:35.792" endtime="20200902 18:18:35.793"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:35.793" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:35.793" endtime="20200902 18:18:35.793"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:35.788" endtime="20200902 18:18:35.793"></status>
</kw>
<msg timestamp="20200902 18:18:35.793" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:35.788" endtime="20200902 18:18:35.793"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:35.788" endtime="20200902 18:18:35.793"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>put-object --bucket ${BUCKET} --key ${PREFIX}/deletetestapi/f1 --body /tmp/testfile</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:35.796" level="INFO">Running command 'aws s3api --endpoint-url https://s3.us-east-1.amazonaws.com put-object --bucket ozonetest --key 56377/deletetestapi/f1 --body /tmp/testfile 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:37.367" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:37.367" level="INFO">${output} = {
    "ETag": "\"af3110cfce93a369f80eaec6e87ec673\""
}</msg>
<status status="PASS" starttime="20200902 18:18:35.795" endtime="20200902 18:18:37.367"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:37.367" level="INFO">{
    "ETag": "\"af3110cfce93a369f80eaec6e87ec673\""
}</msg>
<status status="PASS" starttime="20200902 18:18:37.367" endtime="20200902 18:18:37.367"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:37.367" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:37.367" endtime="20200902 18:18:37.368"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:35.794" endtime="20200902 18:18:37.368"></status>
</kw>
<msg timestamp="20200902 18:18:37.368" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:35.794" endtime="20200902 18:18:37.368"></status>
</kw>
<msg timestamp="20200902 18:18:37.368" level="INFO">${output} = {
    "ETag": "\"af3110cfce93a369f80eaec6e87ec673\""
}</msg>
<status status="PASS" starttime="20200902 18:18:35.794" endtime="20200902 18:18:37.368"></status>
</kw>
<msg timestamp="20200902 18:18:37.368" level="INFO">${result} = {
    "ETag": "\"af3110cfce93a369f80eaec6e87ec673\""
}</msg>
<status status="PASS" starttime="20200902 18:18:35.793" endtime="20200902 18:18:37.368"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>list-objects --bucket ${BUCKET} --prefix ${PREFIX}/deletetestapi/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:37.370" level="INFO">Running command 'aws s3api --endpoint-url https://s3.us-east-1.amazonaws.com list-objects --bucket ozonetest --prefix 56377/deletetestapi/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:39.004" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:39.004" level="INFO">${output} = {
    "Contents": [
        {
            "Key": "56377/deletetestapi/f1",
            "LastModified": "2020-09-02T16:18:37.000Z",
            "ETag": "\"af3110cfce93a369f80eaec6e87ec673\"",
         ...</msg>
<status status="PASS" starttime="20200902 18:18:37.369" endtime="20200902 18:18:39.004"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:39.004" level="INFO">{
    "Contents": [
        {
            "Key": "56377/deletetestapi/f1",
            "LastModified": "2020-09-02T16:18:37.000Z",
            "ETag": "\"af3110cfce93a369f80eaec6e87ec673\"",
            "Size": 33,
            "StorageClass": "STANDARD",
            "Owner": {
                "DisplayName": "e1428",
                "ID": "b8c021b4343e316b28b545df160c6720479a998001ebf7019328b64417fe152d"
            }
        }
    ]
}</msg>
<status status="PASS" starttime="20200902 18:18:39.004" endtime="20200902 18:18:39.004"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:39.005" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:39.004" endtime="20200902 18:18:39.005"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:37.369" endtime="20200902 18:18:39.005"></status>
</kw>
<msg timestamp="20200902 18:18:39.005" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:37.369" endtime="20200902 18:18:39.005"></status>
</kw>
<msg timestamp="20200902 18:18:39.005" level="INFO">${output} = {
    "Contents": [
        {
            "Key": "56377/deletetestapi/f1",
            "LastModified": "2020-09-02T16:18:37.000Z",
            "ETag": "\"af3110cfce93a369f80eaec6e87ec673\"",
         ...</msg>
<status status="PASS" starttime="20200902 18:18:37.368" endtime="20200902 18:18:39.005"></status>
</kw>
<msg timestamp="20200902 18:18:39.005" level="INFO">${result} = {
    "Contents": [
        {
            "Key": "56377/deletetestapi/f1",
            "LastModified": "2020-09-02T16:18:37.000Z",
            "ETag": "\"af3110cfce93a369f80eaec6e87ec673\"",
         ...</msg>
<status status="PASS" starttime="20200902 18:18:37.368" endtime="20200902 18:18:39.005"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>f1</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:39.005" endtime="20200902 18:18:39.006"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>delete-object --bucket ${BUCKET} --key ${PREFIX}/deletetestapi/f1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:39.008" level="INFO">Running command 'aws s3api --endpoint-url https://s3.us-east-1.amazonaws.com delete-object --bucket ozonetest --key 56377/deletetestapi/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:40.480" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:40.480" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:39.007" endtime="20200902 18:18:40.480"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:40.481" level="INFO"></msg>
<status status="PASS" starttime="20200902 18:18:40.480" endtime="20200902 18:18:40.481"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:40.481" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:40.481" endtime="20200902 18:18:40.481"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:39.006" endtime="20200902 18:18:40.481"></status>
</kw>
<msg timestamp="20200902 18:18:40.481" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:39.006" endtime="20200902 18:18:40.481"></status>
</kw>
<msg timestamp="20200902 18:18:40.481" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:39.006" endtime="20200902 18:18:40.481"></status>
</kw>
<msg timestamp="20200902 18:18:40.481" level="INFO">${result} = </msg>
<status status="PASS" starttime="20200902 18:18:39.006" endtime="20200902 18:18:40.481"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>list-objects --bucket ${BUCKET} --prefix ${PREFIX}/deletetestapi/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:40.484" level="INFO">Running command 'aws s3api --endpoint-url https://s3.us-east-1.amazonaws.com list-objects --bucket ozonetest --prefix 56377/deletetestapi/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:42.202" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:42.202" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:40.482" endtime="20200902 18:18:42.202"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:42.203" level="INFO"></msg>
<status status="PASS" starttime="20200902 18:18:42.203" endtime="20200902 18:18:42.203"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:42.203" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:42.203" endtime="20200902 18:18:42.203"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:40.482" endtime="20200902 18:18:42.203"></status>
</kw>
<msg timestamp="20200902 18:18:42.203" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:40.482" endtime="20200902 18:18:42.203"></status>
</kw>
<msg timestamp="20200902 18:18:42.204" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:40.482" endtime="20200902 18:18:42.204"></status>
</kw>
<msg timestamp="20200902 18:18:42.204" level="INFO">${result} = </msg>
<status status="PASS" starttime="20200902 18:18:40.482" endtime="20200902 18:18:42.204"></status>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>f1</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:42.204" endtime="20200902 18:18:42.204"></status>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>500</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:42.204" endtime="20200902 18:18:42.204"></status>
</kw>
<timeout value="5 minutes"></timeout>
<status status="PASS" starttime="20200902 18:18:35.787" endtime="20200902 18:18:42.205" critical="yes"></status>
</test>
<test id="s1-t2" name="Delete file with s3api, file doesn't exist">
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>ls s3://${BUCKET}/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:42.207" level="INFO">Running command 'aws s3 --endpoint-url https://s3.us-east-1.amazonaws.com ls s3://ozonetest/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:43.938" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:43.938" level="INFO">${output} =                            PRE /
                           PRE 00430/
                           PRE 02247/
                           PRE 09254/
                           PRE 11643/
               ...</msg>
<status status="PASS" starttime="20200902 18:18:42.206" endtime="20200902 18:18:43.938"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:43.939" level="INFO">                           PRE /
                           PRE 00430/
                           PRE 02247/
                           PRE 09254/
                           PRE 11643/
                           PRE 11780/
                           PRE 21887/
                           PRE 25034/
                           PRE 26568/
                           PRE 30536/
                           PRE 34848/
                           PRE 36794/
                           PRE 43349/
                           PRE 45825/
                           PRE 47841/
                           PRE 51221/
                           PRE 54665/
                           PRE 59485/
                           PRE 62145/
                           PRE 62650/
                           PRE 72381/
                           PRE 73959/
                           PRE 75802/
                           PRE 78381/
                           PRE 78768/
                           PRE 88660/
                           PRE 89099/
                           PRE 90596/
                           PRE 97137/
                           PRE 98333/
                           PRE a/
                           PRE copyobject/
                           PRE copyrange/
                           PRE copytest/
                           PRE dir1/
                           PRE e/
                           PRE multidelete/
                           PRE putobject/
                           PRE qwe/
                           PRE test/
                           PRE test1/
2020-09-02 17:16:09    5242886 multipartKey1
2020-09-02 17:16:31    5242886 multipartKey3
2018-10-15 13:28:58         30 testfile</msg>
<status status="PASS" starttime="20200902 18:18:43.938" endtime="20200902 18:18:43.939"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:43.939" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:43.939" endtime="20200902 18:18:43.939"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:42.206" endtime="20200902 18:18:43.939"></status>
</kw>
<msg timestamp="20200902 18:18:43.939" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:42.206" endtime="20200902 18:18:43.939"></status>
</kw>
<msg timestamp="20200902 18:18:43.940" level="INFO">${output} =                            PRE /
                           PRE 00430/
                           PRE 02247/
                           PRE 09254/
                           PRE 11643/
               ...</msg>
<status status="PASS" starttime="20200902 18:18:42.205" endtime="20200902 18:18:43.940"></status>
</kw>
<msg timestamp="20200902 18:18:43.940" level="INFO">${result} =                            PRE /
                           PRE 00430/
                           PRE 02247/
                           PRE 09254/
                           PRE 11643/
               ...</msg>
<status status="PASS" starttime="20200902 18:18:42.205" endtime="20200902 18:18:43.940"></status>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>thereisnosuchfile</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:43.940" endtime="20200902 18:18:43.940"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>delete-object --bucket ${BUCKET} --key thereisnosuchfile</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:43.942" level="INFO">Running command 'aws s3api --endpoint-url https://s3.us-east-1.amazonaws.com delete-object --bucket ozonetest --key thereisnosuchfile 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:45.454" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:45.454" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:43.941" endtime="20200902 18:18:45.454"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:45.455" level="INFO"></msg>
<status status="PASS" starttime="20200902 18:18:45.454" endtime="20200902 18:18:45.455"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:45.455" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:45.455" endtime="20200902 18:18:45.455"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:43.941" endtime="20200902 18:18:45.455"></status>
</kw>
<msg timestamp="20200902 18:18:45.455" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:43.941" endtime="20200902 18:18:45.455"></status>
</kw>
<msg timestamp="20200902 18:18:45.455" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:43.940" endtime="20200902 18:18:45.455"></status>
</kw>
<msg timestamp="20200902 18:18:45.455" level="INFO">${result} = </msg>
<status status="PASS" starttime="20200902 18:18:43.940" endtime="20200902 18:18:45.455"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>ls s3://${BUCKET}/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:45.458" level="INFO">Running command 'aws s3 --endpoint-url https://s3.us-east-1.amazonaws.com ls s3://ozonetest/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:47.228" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:47.228" level="INFO">${output} =                            PRE /
                           PRE 00430/
                           PRE 02247/
                           PRE 09254/
                           PRE 11643/
               ...</msg>
<status status="PASS" starttime="20200902 18:18:45.456" endtime="20200902 18:18:47.228"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:47.228" level="INFO">                           PRE /
                           PRE 00430/
                           PRE 02247/
                           PRE 09254/
                           PRE 11643/
                           PRE 11780/
                           PRE 21887/
                           PRE 25034/
                           PRE 26568/
                           PRE 30536/
                           PRE 34848/
                           PRE 36794/
                           PRE 43349/
                           PRE 45825/
                           PRE 47841/
                           PRE 51221/
                           PRE 54665/
                           PRE 59485/
                           PRE 62145/
                           PRE 62650/
                           PRE 72381/
                           PRE 73959/
                           PRE 75802/
                           PRE 78381/
                           PRE 78768/
                           PRE 88660/
                           PRE 89099/
                           PRE 90596/
                           PRE 97137/
                           PRE 98333/
                           PRE a/
                           PRE copyobject/
                           PRE copyrange/
                           PRE copytest/
                           PRE dir1/
                           PRE e/
                           PRE multidelete/
                           PRE putobject/
                           PRE qwe/
                           PRE test/
                           PRE test1/
2020-09-02 17:16:09    5242886 multipartKey1
2020-09-02 17:16:31    5242886 multipartKey3
2018-10-15 13:28:58         30 testfile</msg>
<status status="PASS" starttime="20200902 18:18:47.228" endtime="20200902 18:18:47.228"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:47.229" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:47.228" endtime="20200902 18:18:47.229"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:45.456" endtime="20200902 18:18:47.229"></status>
</kw>
<msg timestamp="20200902 18:18:47.229" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:45.456" endtime="20200902 18:18:47.229"></status>
</kw>
<msg timestamp="20200902 18:18:47.229" level="INFO">${output} =                            PRE /
                           PRE 00430/
                           PRE 02247/
                           PRE 09254/
                           PRE 11643/
               ...</msg>
<status status="PASS" starttime="20200902 18:18:45.456" endtime="20200902 18:18:47.229"></status>
</kw>
<msg timestamp="20200902 18:18:47.229" level="INFO">${result} =                            PRE /
                           PRE 00430/
                           PRE 02247/
                           PRE 09254/
                           PRE 11643/
               ...</msg>
<status status="PASS" starttime="20200902 18:18:45.455" endtime="20200902 18:18:47.229"></status>
</kw>
<kw name="Should Not Contain" library="BuiltIn">
<doc>Fails if ``container`` contains ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>thereisnosuchfile</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:47.229" endtime="20200902 18:18:47.229"></status>
</kw>
<timeout value="5 minutes"></timeout>
<status status="PASS" starttime="20200902 18:18:42.205" endtime="20200902 18:18:47.230" critical="yes"></status>
</test>
<test id="s1-t3" name="Delete dir with s3api">
<kw name="Execute" library="os">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:47.233" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20200902 18:18:47.236" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:47.236" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:47.231" endtime="20200902 18:18:47.236"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:47.237" level="INFO"></msg>
<status status="PASS" starttime="20200902 18:18:47.237" endtime="20200902 18:18:47.237"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:47.237" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:47.237" endtime="20200902 18:18:47.237"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:47.230" endtime="20200902 18:18:47.237"></status>
</kw>
<msg timestamp="20200902 18:18:47.237" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:47.230" endtime="20200902 18:18:47.237"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:47.230" endtime="20200902 18:18:47.238"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}/${PREFIX}/deletetestapidir/f1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:47.240" level="INFO">Running command 'aws s3 --endpoint-url https://s3.us-east-1.amazonaws.com cp /tmp/testfile s3://ozonetest/56377/deletetestapidir/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:48.867" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:48.867" level="INFO">${output} = Completed 33 Bytes/33 Bytes (25 Bytes/s) with 1 file(s) remaining
upload: ../../../../../../../../../../tmp/testfile to s3://ozonetest/56377/deletetestapidir/f1</msg>
<status status="PASS" starttime="20200902 18:18:47.238" endtime="20200902 18:18:48.867"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:48.867" level="INFO">Completed 33 Bytes/33 Bytes (25 Bytes/s) with 1 file(s) remaining
upload: ../../../../../../../../../../tmp/testfile to s3://ozonetest/56377/deletetestapidir/f1</msg>
<status status="PASS" starttime="20200902 18:18:48.867" endtime="20200902 18:18:48.867"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:48.868" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:48.867" endtime="20200902 18:18:48.868"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:47.238" endtime="20200902 18:18:48.868"></status>
</kw>
<msg timestamp="20200902 18:18:48.868" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:47.238" endtime="20200902 18:18:48.868"></status>
</kw>
<msg timestamp="20200902 18:18:48.868" level="INFO">${output} = Completed 33 Bytes/33 Bytes (25 Bytes/s) with 1 file(s) remaining
upload: ../../../../../../../../../../tmp/testfile to s3://ozonetest/56377/deletetestapidir/f1</msg>
<status status="PASS" starttime="20200902 18:18:47.238" endtime="20200902 18:18:48.868"></status>
</kw>
<msg timestamp="20200902 18:18:48.868" level="INFO">${result} = Completed 33 Bytes/33 Bytes (25 Bytes/s) with 1 file(s) remaining
upload: ../../../../../../../../../../tmp/testfile to s3://ozonetest/56377/deletetestapidir/f1</msg>
<status status="PASS" starttime="20200902 18:18:47.238" endtime="20200902 18:18:48.868"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>ls s3://${BUCKET}/${PREFIX}/deletetestapidir/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:48.870" level="INFO">Running command 'aws s3 --endpoint-url https://s3.us-east-1.amazonaws.com ls s3://ozonetest/56377/deletetestapidir/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:50.269" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:50.269" level="INFO">${output} = 2020-09-02 18:18:49         33 f1</msg>
<status status="PASS" starttime="20200902 18:18:48.869" endtime="20200902 18:18:50.269"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:50.269" level="INFO">2020-09-02 18:18:49         33 f1</msg>
<status status="PASS" starttime="20200902 18:18:50.269" endtime="20200902 18:18:50.270"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:50.270" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:50.270" endtime="20200902 18:18:50.270"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:48.869" endtime="20200902 18:18:50.270"></status>
</kw>
<msg timestamp="20200902 18:18:50.270" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:48.869" endtime="20200902 18:18:50.270"></status>
</kw>
<msg timestamp="20200902 18:18:50.270" level="INFO">${output} = 2020-09-02 18:18:49         33 f1</msg>
<status status="PASS" starttime="20200902 18:18:48.869" endtime="20200902 18:18:50.270"></status>
</kw>
<msg timestamp="20200902 18:18:50.270" level="INFO">${result} = 2020-09-02 18:18:49         33 f1</msg>
<status status="PASS" starttime="20200902 18:18:48.868" endtime="20200902 18:18:50.270"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>f1</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:50.270" endtime="20200902 18:18:50.271"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>delete-object --bucket ${BUCKET} --key ${PREFIX}/deletetestapidir/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:50.273" level="INFO">Running command 'aws s3api --endpoint-url https://s3.us-east-1.amazonaws.com delete-object --bucket ozonetest --key 56377/deletetestapidir/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:51.934" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:51.934" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:50.272" endtime="20200902 18:18:51.934"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:51.934" level="INFO"></msg>
<status status="PASS" starttime="20200902 18:18:51.934" endtime="20200902 18:18:51.934"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:51.935" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:51.935" endtime="20200902 18:18:51.935"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:50.271" endtime="20200902 18:18:51.935"></status>
</kw>
<msg timestamp="20200902 18:18:51.935" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:50.271" endtime="20200902 18:18:51.935"></status>
</kw>
<msg timestamp="20200902 18:18:51.935" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:50.271" endtime="20200902 18:18:51.935"></status>
</kw>
<msg timestamp="20200902 18:18:51.935" level="INFO">${result} = </msg>
<status status="PASS" starttime="20200902 18:18:50.271" endtime="20200902 18:18:51.935"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>ls s3://${BUCKET}/${PREFIX}/deletetestapidir/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:51.937" level="INFO">Running command 'aws s3 --endpoint-url https://s3.us-east-1.amazonaws.com ls s3://ozonetest/56377/deletetestapidir/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:53.342" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:53.342" level="INFO">${output} = 2020-09-02 18:18:49         33 f1</msg>
<status status="PASS" starttime="20200902 18:18:51.936" endtime="20200902 18:18:53.342"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:53.342" level="INFO">2020-09-02 18:18:49         33 f1</msg>
<status status="PASS" starttime="20200902 18:18:53.342" endtime="20200902 18:18:53.343"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:53.343" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:53.343" endtime="20200902 18:18:53.343"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:51.936" endtime="20200902 18:18:53.343"></status>
</kw>
<msg timestamp="20200902 18:18:53.343" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:51.936" endtime="20200902 18:18:53.343"></status>
</kw>
<msg timestamp="20200902 18:18:53.343" level="INFO">${output} = 2020-09-02 18:18:49         33 f1</msg>
<status status="PASS" starttime="20200902 18:18:51.936" endtime="20200902 18:18:53.343"></status>
</kw>
<msg timestamp="20200902 18:18:53.343" level="INFO">${result} = 2020-09-02 18:18:49         33 f1</msg>
<status status="PASS" starttime="20200902 18:18:51.935" endtime="20200902 18:18:53.343"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>f1</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:53.343" endtime="20200902 18:18:53.344"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>delete-object --bucket ${BUCKET} --key ${PREFIX}/deletetestapidir/f1</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:53.346" level="INFO">Running command 'aws s3api --endpoint-url https://s3.us-east-1.amazonaws.com delete-object --bucket ozonetest --key 56377/deletetestapidir/f1 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:55.183" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:55.183" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:53.344" endtime="20200902 18:18:55.183"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:55.183" level="INFO"></msg>
<status status="PASS" starttime="20200902 18:18:55.183" endtime="20200902 18:18:55.183"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:55.184" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:55.183" endtime="20200902 18:18:55.184"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:53.344" endtime="20200902 18:18:55.184"></status>
</kw>
<msg timestamp="20200902 18:18:55.184" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:53.344" endtime="20200902 18:18:55.184"></status>
</kw>
<msg timestamp="20200902 18:18:55.184" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:53.344" endtime="20200902 18:18:55.184"></status>
</kw>
<msg timestamp="20200902 18:18:55.184" level="INFO">${result} = </msg>
<status status="PASS" starttime="20200902 18:18:53.344" endtime="20200902 18:18:55.184"></status>
</kw>
<timeout value="5 minutes"></timeout>
<status status="PASS" starttime="20200902 18:18:47.230" endtime="20200902 18:18:55.184" critical="yes"></status>
</test>
<test id="s1-t4" name="Delete file with s3api, file doesn't exist, prefix of a real file">
<kw name="Execute" library="os">
<arguments>
<arg>date &gt; /tmp/testfile</arg>
</arguments>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:55.187" level="INFO">Running command 'date &gt; /tmp/testfile'.</msg>
<msg timestamp="20200902 18:18:55.189" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:55.189" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:55.185" endtime="20200902 18:18:55.189"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:55.190" level="INFO"></msg>
<status status="PASS" starttime="20200902 18:18:55.190" endtime="20200902 18:18:55.190"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:55.191" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:55.190" endtime="20200902 18:18:55.191"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:55.185" endtime="20200902 18:18:55.191"></status>
</kw>
<msg timestamp="20200902 18:18:55.191" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:55.185" endtime="20200902 18:18:55.191"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:55.185" endtime="20200902 18:18:55.191"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>cp /tmp/testfile s3://${BUCKET}/${PREFIX}/deletetestapiprefix/filefile</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:55.193" level="INFO">Running command 'aws s3 --endpoint-url https://s3.us-east-1.amazonaws.com cp /tmp/testfile s3://ozonetest/56377/deletetestapiprefix/filefile 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:56.959" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:56.959" level="INFO">${output} = Completed 33 Bytes/33 Bytes (23 Bytes/s) with 1 file(s) remaining
upload: ../../../../../../../../../../tmp/testfile to s3://ozonetest/56377/deletetestapiprefix/filefile</msg>
<status status="PASS" starttime="20200902 18:18:55.192" endtime="20200902 18:18:56.959"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:56.959" level="INFO">Completed 33 Bytes/33 Bytes (23 Bytes/s) with 1 file(s) remaining
upload: ../../../../../../../../../../tmp/testfile to s3://ozonetest/56377/deletetestapiprefix/filefile</msg>
<status status="PASS" starttime="20200902 18:18:56.959" endtime="20200902 18:18:56.959"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:56.960" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:56.959" endtime="20200902 18:18:56.960"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:55.192" endtime="20200902 18:18:56.960"></status>
</kw>
<msg timestamp="20200902 18:18:56.960" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:55.192" endtime="20200902 18:18:56.960"></status>
</kw>
<msg timestamp="20200902 18:18:56.960" level="INFO">${output} = Completed 33 Bytes/33 Bytes (23 Bytes/s) with 1 file(s) remaining
upload: ../../../../../../../../../../tmp/testfile to s3://ozonetest/56377/deletetestapiprefix/filefile</msg>
<status status="PASS" starttime="20200902 18:18:55.191" endtime="20200902 18:18:56.960"></status>
</kw>
<msg timestamp="20200902 18:18:56.960" level="INFO">${result} = Completed 33 Bytes/33 Bytes (23 Bytes/s) with 1 file(s) remaining
upload: ../../../../../../../../../../tmp/testfile to s3://ozonetest/56377/deletetestapiprefix/filefile</msg>
<status status="PASS" starttime="20200902 18:18:55.191" endtime="20200902 18:18:56.960"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>ls s3://${BUCKET}/${PREFIX}/deletetestapiprefix/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:56.962" level="INFO">Running command 'aws s3 --endpoint-url https://s3.us-east-1.amazonaws.com ls s3://ozonetest/56377/deletetestapiprefix/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:18:59.036" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:18:59.036" level="INFO">${output} = 2020-09-02 18:18:57         33 filefile</msg>
<status status="PASS" starttime="20200902 18:18:56.961" endtime="20200902 18:18:59.036"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:18:59.036" level="INFO">2020-09-02 18:18:57         33 filefile</msg>
<status status="PASS" starttime="20200902 18:18:59.036" endtime="20200902 18:18:59.036"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:18:59.037" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:18:59.036" endtime="20200902 18:18:59.037"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:56.961" endtime="20200902 18:18:59.037"></status>
</kw>
<msg timestamp="20200902 18:18:59.037" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:56.961" endtime="20200902 18:18:59.037"></status>
</kw>
<msg timestamp="20200902 18:18:59.037" level="INFO">${output} = 2020-09-02 18:18:57         33 filefile</msg>
<status status="PASS" starttime="20200902 18:18:56.961" endtime="20200902 18:18:59.037"></status>
</kw>
<msg timestamp="20200902 18:18:59.037" level="INFO">${result} = 2020-09-02 18:18:57         33 filefile</msg>
<status status="PASS" starttime="20200902 18:18:56.960" endtime="20200902 18:18:59.037"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>filefile</arg>
</arguments>
<status status="PASS" starttime="20200902 18:18:59.038" endtime="20200902 18:18:59.038"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>delete-object --bucket ${BUCKET} --key ${PREFIX}/deletetestapiprefix/file</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:18:59.040" level="INFO">Running command 'aws s3api --endpoint-url https://s3.us-east-1.amazonaws.com delete-object --bucket ozonetest --key 56377/deletetestapiprefix/file 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:19:00.611" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:19:00.611" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:59.039" endtime="20200902 18:19:00.611"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:19:00.612" level="INFO"></msg>
<status status="PASS" starttime="20200902 18:19:00.612" endtime="20200902 18:19:00.612"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:19:00.612" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:19:00.612" endtime="20200902 18:19:00.612"></status>
</kw>
<status status="PASS" starttime="20200902 18:18:59.038" endtime="20200902 18:19:00.612"></status>
</kw>
<msg timestamp="20200902 18:19:00.612" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:18:59.038" endtime="20200902 18:19:00.613"></status>
</kw>
<msg timestamp="20200902 18:19:00.613" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:18:59.038" endtime="20200902 18:19:00.613"></status>
</kw>
<msg timestamp="20200902 18:19:00.613" level="INFO">${result} = </msg>
<status status="PASS" starttime="20200902 18:18:59.038" endtime="20200902 18:19:00.613"></status>
</kw>
<kw name="Execute AWSS3Cli" library="commonawslib">
<arguments>
<arg>ls s3://${BUCKET}/${PREFIX}/deletetestapiprefix/</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3 --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:19:00.615" level="INFO">Running command 'aws s3 --endpoint-url https://s3.us-east-1.amazonaws.com ls s3://ozonetest/56377/deletetestapiprefix/ 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:19:02.384" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:19:02.384" level="INFO">${output} = 2020-09-02 18:18:57         33 filefile</msg>
<status status="PASS" starttime="20200902 18:19:00.614" endtime="20200902 18:19:02.384"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:19:02.384" level="INFO">2020-09-02 18:18:57         33 filefile</msg>
<status status="PASS" starttime="20200902 18:19:02.384" endtime="20200902 18:19:02.384"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:19:02.385" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:19:02.384" endtime="20200902 18:19:02.385"></status>
</kw>
<status status="PASS" starttime="20200902 18:19:00.614" endtime="20200902 18:19:02.385"></status>
</kw>
<msg timestamp="20200902 18:19:02.385" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:19:00.613" endtime="20200902 18:19:02.385"></status>
</kw>
<msg timestamp="20200902 18:19:02.385" level="INFO">${output} = 2020-09-02 18:18:57         33 filefile</msg>
<status status="PASS" starttime="20200902 18:19:00.613" endtime="20200902 18:19:02.385"></status>
</kw>
<msg timestamp="20200902 18:19:02.385" level="INFO">${result} = 2020-09-02 18:18:57         33 filefile</msg>
<status status="PASS" starttime="20200902 18:19:00.613" endtime="20200902 18:19:02.385"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>filefile</arg>
</arguments>
<status status="PASS" starttime="20200902 18:19:02.385" endtime="20200902 18:19:02.386"></status>
</kw>
<kw name="Execute AWSS3APICli" library="commonawslib">
<arguments>
<arg>delete-object --bucket ${BUCKET} --key ${PREFIX}/deletetestapiprefix/filefile</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute" library="os">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run Keyword And Return" library="BuiltIn">
<doc>Runs the specified keyword and returns from the enclosing user keyword.</doc>
<arguments>
<arg>Execute and checkrc</arg>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>${command}</arg>
<arg>0</arg>
</arguments>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:19:02.388" level="INFO">Running command 'aws s3api --endpoint-url https://s3.us-east-1.amazonaws.com delete-object --bucket ozonetest --key 56377/deletetestapiprefix/filefile 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:19:04.091" level="INFO">${rc} = 0</msg>
<msg timestamp="20200902 18:19:04.091" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:19:02.387" endtime="20200902 18:19:04.091"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:19:04.092" level="INFO"></msg>
<status status="PASS" starttime="20200902 18:19:04.092" endtime="20200902 18:19:04.092"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:19:04.092" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:19:04.092" endtime="20200902 18:19:04.092"></status>
</kw>
<status status="PASS" starttime="20200902 18:19:02.386" endtime="20200902 18:19:04.093"></status>
</kw>
<msg timestamp="20200902 18:19:04.093" level="INFO">Returning from the enclosing user keyword.</msg>
<status status="PASS" starttime="20200902 18:19:02.386" endtime="20200902 18:19:04.093"></status>
</kw>
<msg timestamp="20200902 18:19:04.093" level="INFO">${output} = </msg>
<status status="PASS" starttime="20200902 18:19:02.386" endtime="20200902 18:19:04.093"></status>
</kw>
<msg timestamp="20200902 18:19:04.093" level="INFO">${result} = </msg>
<status status="PASS" starttime="20200902 18:19:02.386" endtime="20200902 18:19:04.093"></status>
</kw>
<timeout value="5 minutes"></timeout>
<status status="PASS" starttime="20200902 18:18:55.184" endtime="20200902 18:19:04.093" critical="yes"></status>
</test>
<test id="s1-t5" name="Delete file with s3api, bucket doesn't exist">
<kw name="Execute AWSS3APICli and checkrc" library="commonawslib">
<arguments>
<arg>delete-object --bucket ${BUCKET}-nosuchbucket --key f1</arg>
<arg>255</arg>
</arguments>
<assign>
<var>${result}</var>
</assign>
<kw name="Execute and checkrc" library="os">
<arguments>
<arg>aws s3api --endpoint-url ${ENDPOINT_URL} ${command}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<assign>
<var>${output}</var>
</assign>
<kw name="Run And Return Rc And Output" library="OperatingSystem">
<doc>Runs the given command in the system and returns the RC and output.</doc>
<arguments>
<arg>${command}</arg>
</arguments>
<assign>
<var>${rc}</var>
<var>${output}</var>
</assign>
<msg timestamp="20200902 18:19:04.095" level="INFO">Running command 'aws s3api --endpoint-url https://s3.us-east-1.amazonaws.com delete-object --bucket ozonetest-nosuchbucket --key f1 2&gt;&amp;1'.</msg>
<msg timestamp="20200902 18:19:05.788" level="INFO">${rc} = 255</msg>
<msg timestamp="20200902 18:19:05.788" level="INFO">${output} = 
An error occurred (NoSuchBucket) when calling the DeleteObject operation: The specified bucket does not exist</msg>
<status status="PASS" starttime="20200902 18:19:04.094" endtime="20200902 18:19:05.788"></status>
</kw>
<kw name="Log" library="BuiltIn">
<doc>Logs the given message with the given level.</doc>
<arguments>
<arg>${output}</arg>
</arguments>
<msg timestamp="20200902 18:19:05.789" level="INFO">
An error occurred (NoSuchBucket) when calling the DeleteObject operation: The specified bucket does not exist</msg>
<status status="PASS" starttime="20200902 18:19:05.789" endtime="20200902 18:19:05.789"></status>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<doc>Fails if objects are unequal after converting them to integers.</doc>
<arguments>
<arg>${rc}</arg>
<arg>${expected_error_code}</arg>
</arguments>
<msg timestamp="20200902 18:19:05.789" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;type 'unicode'&gt;</msg>
<status status="PASS" starttime="20200902 18:19:05.789" endtime="20200902 18:19:05.790"></status>
</kw>
<msg timestamp="20200902 18:19:05.790" level="INFO">${output} = 
An error occurred (NoSuchBucket) when calling the DeleteObject operation: The specified bucket does not exist</msg>
<status status="PASS" starttime="20200902 18:19:04.094" endtime="20200902 18:19:05.790"></status>
</kw>
<msg timestamp="20200902 18:19:05.790" level="INFO">${result} = 
An error occurred (NoSuchBucket) when calling the DeleteObject operation: The specified bucket does not exist</msg>
<status status="PASS" starttime="20200902 18:19:04.094" endtime="20200902 18:19:05.790"></status>
</kw>
<kw name="Should Contain" library="BuiltIn">
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<arguments>
<arg>${result}</arg>
<arg>NoSuchBucket</arg>
</arguments>
<status status="PASS" starttime="20200902 18:19:05.790" endtime="20200902 18:19:05.790"></status>
</kw>
<timeout value="5 minutes"></timeout>
<status status="PASS" starttime="20200902 18:19:04.093" endtime="20200902 18:19:05.790" critical="yes"></status>
</test>
<doc>S3 gateway test with aws cli</doc>
<status status="PASS" starttime="20200902 18:18:35.745" endtime="20200902 18:19:05.791"></status>
</suite>
<statistics>
<total>
<stat pass="5" fail="0">Critical Tests</stat>
<stat pass="5" fail="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="5" fail="0" id="s1" name="Objectdelete">Objectdelete</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
